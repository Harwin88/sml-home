<footer class="app-footer">
  <!-- Main Footer Content -->
  <div class="footer-main">
    <div class="footer-container">
      <!-- Brand Section -->
      <div class="footer-brand">
        <div class="brand-logo">
          <h2 class="brand-name">kapi</h2>
          <span class="brand-emoji">üè†</span>
        </div>
        <p class="brand-tagline">
          Conectando familias con profesionales de confianza para hacer tu hogar mejor cada d√≠a.
        </p>
        
        <!-- Trust Badges -->
        <div class="trust-badges">
          <div class="trust-badge" *ngFor="let feature of features">
            <mat-icon>{{ feature.icon }}</mat-icon>
            <span>{{ feature.text }}</span>
          </div>
        </div>

        <!-- Contact Info -->
        <div class="contact-info">
          <div class="contact-item">
            <mat-icon>email</mat-icon>
            <a [href]="'mailto:' + contactInfo.email">{{ contactInfo.email }}</a>
          </div>
          <div class="contact-item">
            <mat-icon>phone</mat-icon>
            <a [href]="'tel:' + contactInfo.phone">{{ contactInfo.phone }}</a>
          </div>
          <div class="contact-item">
            <mat-icon>location_on</mat-icon>
            <span>{{ contactInfo.address }}</span>
          </div>
          <div class="contact-item">
            <mat-icon>schedule</mat-icon>
            <span>{{ contactInfo.hours }}</span>
          </div>
        </div>
      </div>

      <!-- Footer Links Sections -->
      <div class="footer-links">
        <div class="footer-section" *ngFor="let section of footerSections">
          <h3 class="section-title">{{ section.title }}</h3>
          <ul class="section-links">
            <li *ngFor="let link of section.links">
              <a 
                *ngIf="link.route" 
                [routerLink]="link.route"
                class="footer-link"
                [attr.aria-label]="link.label"
              >
                <mat-icon *ngIf="link.icon" class="link-icon">{{ link.icon }}</mat-icon>
                <span>{{ link.label }}</span>
              </a>
              <a 
                *ngIf="link.external" 
                [href]="link.external"
                target="_blank"
                rel="noopener noreferrer"
                class="footer-link"
                [attr.aria-label]="link.label"
              >
                <mat-icon *ngIf="link.icon" class="link-icon">{{ link.icon }}</mat-icon>
                <span>{{ link.label }}</span>
                <mat-icon class="external-icon">open_in_new</mat-icon>
              </a>
              <button
                *ngIf="link.action"
                (click)="handleLinkAction(link.action)"
                class="footer-link footer-link-button"
                [attr.aria-label]="link.label"
              >
                <mat-icon *ngIf="link.icon" class="link-icon">{{ link.icon }}</mat-icon>
                <span>{{ link.label }}</span>
              </button>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <!-- Social Media Section -->
  <div class="footer-social">
    <div class="footer-container">
      <div class="social-content">
        <div class="social-text">
          <h3>S√≠guenos en Redes Sociales</h3>
          <p>Mantente al d√≠a con noticias, tips y ofertas especiales</p>
        </div>
        <div class="social-links">
          <a 
            *ngFor="let social of socialLinks"
            [href]="social.url"
            target="_blank"
            rel="noopener noreferrer"
            class="social-link"
            [attr.aria-label]="social.name"
            [attr.data-social]="social.name.toLowerCase()"
            [style.--social-color]="social.color"
          >
            <span class="social-icon-text">{{ getSocialIcon(social.name) }}</span>
            <span class="social-name">{{ social.name }}</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Newsletter Section -->
  <div class="footer-newsletter">
    <div class="footer-container">
      <div class="newsletter-content">
        <div class="newsletter-text">
          <mat-icon class="newsletter-icon">mail_outline</mat-icon>
          <div>
            <h3>Suscr√≠bete a Nuestro Newsletter</h3>
            <p>Recibe ofertas exclusivas y tips para el hogar directo en tu correo</p>
          </div>
        </div>
        <div class="newsletter-form">
          <div class="newsletter-input-wrapper">
            <input 
              type="email" 
              [formControl]="newsletterEmail"
              placeholder="Tu correo electr√≥nico" 
              class="newsletter-input"
              [class.newsletter-input-invalid]="newsletterEmail.invalid && newsletterEmail.touched"
              [class.newsletter-input-valid]="newsletterEmail.valid && newsletterEmail.touched"
              [class.newsletter-input-loading]="newsletterState === 'loading'"
              [class.newsletter-input-success]="newsletterState === 'success'"
              [class.newsletter-input-error]="newsletterState === 'error'"
              [disabled]="newsletterState === 'loading'"
              aria-label="Correo electr√≥nico para newsletter"
              (keyup.enter)="subscribeNewsletter()"
            />
            <mat-icon 
              class="newsletter-status-icon"
              *ngIf="newsletterState === 'success'"
            >check_circle</mat-icon>
            <mat-icon 
              class="newsletter-status-icon error"
              *ngIf="newsletterState === 'error'"
            >error</mat-icon>
          </div>
          <button 
            class="newsletter-button" 
            [class.newsletter-button-loading]="newsletterState === 'loading'"
            [class.newsletter-button-success]="newsletterState === 'success'"
            [class.newsletter-button-error]="newsletterState === 'error'"
            [disabled]="isSubscribeDisabled()"
            (click)="subscribeNewsletter()"
            aria-label="Suscribirse al newsletter"
          >
            <span *ngIf="newsletterState === 'idle' || newsletterState === 'error'">Suscribirse</span>
            <span *ngIf="newsletterState === 'loading'">Suscribiendo...</span>
            <span *ngIf="newsletterState === 'success'">¬°Suscrito!</span>
            <mat-icon *ngIf="newsletterState === 'idle' || newsletterState === 'error'">arrow_forward</mat-icon>
            <mat-icon *ngIf="newsletterState === 'loading'" class="spinning">hourglass_empty</mat-icon>
            <mat-icon *ngIf="newsletterState === 'success'">check</mat-icon>
          </button>
          <div 
            class="newsletter-message"
            *ngIf="newsletterMessage"
            [class.newsletter-message-success]="newsletterState === 'success'"
            [class.newsletter-message-error]="newsletterState === 'error'"
          >
            {{ newsletterMessage }}
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="footer-bottom">
    <div class="footer-container">
      <div class="bottom-content">
        <div class="copyright">
          <p>¬© {{ currentYear }} kapi. Todos los derechos reservados.</p>
          <p class="made-with">
            Hecho con 
            <mat-icon class="heart-icon">favorite</mat-icon> 
            en Colombia
          </p>
        </div>
        
        <div class="bottom-links">
          <a routerLink="/legal/terms">T√©rminos</a>
          <span class="separator">‚Ä¢</span>
          <a routerLink="/legal/privacy">Privacidad</a>
          <span class="separator">‚Ä¢</span>
          <a routerLink="/legal/cookies">Cookies</a>
          <span class="separator">‚Ä¢</span>
          <a routerLink="/help">Ayuda</a>
        </div>

        <button class="scroll-top" (click)="scrollToTop()" aria-label="Volver arriba">
          <mat-icon>keyboard_arrow_up</mat-icon>
        </button>
      </div>
    </div>
  </div>
</footer>

